"use strict";(()=>{var c={loading:"lazy-loading",failed:"lazy-failed",on:"autolazy",loaded:"lazy-loaded",attribute:"lazy",nativeSupport:!1,proxy:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",observer:{root:null,rootMargin:"0px 0px 0px 0px",threshold:0}},r="autolazy"in window?{...c,...window?.autolazy}:c;function l(t){let i=Number(t.dataset[`${r.attribute}Delay`])??0;window.addEventListener("load",()=>{let o=document.createElement("script");for(let a=0;a<t.attributes.length;a++)t.attributes[a].name.includes(`data-${r.attribute}`)||o.setAttribute(t.attributes[a].name,t.attributes[a].value);o.src=t.dataset[r.attribute],new Promise(a=>setTimeout(a,Number(i))).then(()=>{t.parentElement?.insertBefore(o,t),t.remove()})})}function d({lazyElement:t,wrapperEl:i,innerHTML:o}){let a=document.createElement(i);o&&(a.innerHTML=o);for(let e of t.attributes)e.name.includes(`data-${r.attribute}`)||a.setAttribute(e.name,e.value);return t.parentElement?.insertBefore(a,t.nextSibling),t.remove(),a}function s(t){`${r.attribute}Bkg`in t.dataset?(t.style.backgroundImage=t.dataset[`${r.attribute}Bkg`],t.removeAttribute(`data-${r.attribute}-bkg`)):(t.src=t.dataset[r.attribute],`${[r.attribute]}Srcset`in t.dataset&&(t.srcset=t.dataset[`${r.attribute}Srcset`],t.removeAttribute(`data-${r.attribute}-srcset`))),`${r.attribute}Wrapper`in t.dataset&&(t.dataset[`${r.attribute}Include`]!==""?new Promise(()=>fetch(t.dataset[`${r.attribute}Include`],{method:"GET",headers:{origin:"*"}}).then(i=>i.text()).then(i=>{let o=d({lazyElement:t,wrapperEl:t.dataset[`${r.attribute}Wrapper`]});o.outerHTML=i}).catch(i=>console.error(i))):d({lazyElement:t,wrapperEl:t.dataset[`${r.attribute}Wrapper`],innerHTML:t.innerHTML})),`${r.attribute}Module`in t.dataset&&new Promise(()=>{import(t.dataset[`${r.attribute}Module`]).then(()=>{t.setAttribute("type","module"),d({lazyElement:t,wrapperEl:"script",innerHTML:`import ${t.dataset[`${r.attribute}Import`]} from '${t.dataset[`${r.attribute}Module`]}';
${t.innerHTML}`})})}),`data-${r.attribute}`in t.dataset&&t.removeAttribute(`data-${r.attribute}`)}function u(t={}){return new IntersectionObserver(m,t)}function m(t,i){for(let o of t)if(o.isIntersecting){let a=o.target;a.classList.add(r.on),a.classList.add(r.loading);let e=a.dataset[r.attribute]?a:null;if(!e&&a.dataset[`${r.attribute}Bkg`]){e=new Image;let n=a.getAttribute(`${r.attribute}-bkg`)?.replace(/(^url\()|(\)$|["'])/g,"");n&&(e.src=n)}e&&(e.addEventListener("load",()=>{e.classList.add(r.loaded),e.classList.remove(r.loading)}),e.addEventListener("error",()=>{e.classList.add(r.failed)})),s(a),i.unobserve(a)}}function p(t){return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)}function b(t,i){let o=u(r.observer);for(let a of t){let e=a.target;if(p(a.boundingClientRect)){if(e.nodeName==="IMG"){e.setAttribute("fetchpriority","high"),e.setAttribute("decoding","async");let n=document.createElement("link");n.setAttribute("rel","preload"),n.setAttribute("as","image"),n.setAttribute("href",e.src),n.setAttribute("fetchpriority","high"),document.head.appendChild(n)}(e.dataset[`${r.attribute}Module`]||e.dataset[`${r.attribute}Include`])&&(e.classList.add(r.loaded),s(e)),i.unobserve(e)}else{if(e.nodeName==="DIV"&&e.style.getPropertyValue("background-image"))e.dataset[`${r.attribute}Bkg`]=e.style.getPropertyValue("background-image"),e.style.setProperty("background-image","none");else{if(window?.autolazy?.options.nativeSupport&&e.loading==="lazy")continue;e.poster&&(e.poster=r.proxy),e.src&&(e.dataset[r.attribute]=e.src,e.src=e.nodeName!=="IMG"?r.proxy:"",e.hasAttribute("srcset")&&(e.dataset[`${r.attribute}Srcset`]=e.srcset,e.srcset=e.nodeName!=="IMG"?r.proxy:""))}o.observe(e)}}window.autolazy.observer=o,window.autolazy.update=a=>{let e=document.querySelectorAll(a||"[data-lazy]");if(e)for(let n of e)i.observe(n)},window.autolazy.watch=a=>i.observe(a),window.autolazy.unveil=a=>s(a),window.autolazy.unmount=()=>{i.disconnect(),o.disconnect()}}function f(t){let i=new IntersectionObserver(b);for(let o of t)for(let a of o.addedNodes)if(a.nodeType===1){let e=a;o.type==="childList"&&(e.nodeName==="SCRIPT"?e.dataset[r.attribute]&&l(e):["IMG","VIDEO","AUDIO","DIV"].includes(e.nodeName)&&i.observe(e))}}function g(t){window.autolazy={options:{...r,...t}},"IntersectionObserver"in window&&"MutationObserver"in window?new MutationObserver(f).observe(document.body,{childList:!0,subtree:!0}):console.warn("Sorry, your browser does not support automatic lazy loading")}g();})();
